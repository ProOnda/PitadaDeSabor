import{a as T,b as q}from"./chunk-3Z73RA4N.js";import{a as z}from"./chunk-4EICRDDQ.js";import{a as N}from"./chunk-5F6GEKNM.js";import{a as L}from"./chunk-UZG4YI3I.js";import"./chunk-O5PN56JD.js";import"./chunk-P4K7NQPT.js";import"./chunk-BL7BDUKV.js";import{c as k}from"./chunk-3HB2GM6U.js";import{$ as u,Aa as M,Db as I,Fb as F,Ra as b,S as o,Ta as _,V as m,X as x,Xa as P,bb as O,ca as r,eb as E,ha as n,ia as t,ja as p,oa as f,ob as c,pa as h,rb as S,tb as y,vb as w,ya as s,za as C}from"./chunk-J7TXCJLH.js";import"./chunk-CTXH4QH2.js";import"./chunk-A4HHE4W2.js";import"./chunk-LFRXSQAQ.js";import"./chunk-GK6EN35L.js";import"./chunk-25Z7UPBE.js";import"./chunk-4U6PRYVA.js";import"./chunk-II53MLED.js";import"./chunk-RUL3GU37.js";import"./chunk-WTCPO44B.js";import"./chunk-IOUSJTJ3.js";import"./chunk-SV7S5NYR.js";import{g as v}from"./chunk-OLRFWS6T.js";function B(i,a){if(i&1&&(n(0,"div",17),s(1),t()),i&2){let d=h();o(),M(" ",d.getEmailErrorMessage()," ")}}function j(i,a){if(i&1&&(n(0,"div",17),s(1),t()),i&2){let d=h();o(),C(d.errorMessage)}}var ee=(()=>{let a=class a{toggleSenha(){this.exibirSenha=!this.exibirSenha,this.senhaInputType=this.exibirSenha?"text":"password"}constructor(g,l,e){this.router=g,this.formBuilder=l,this.authService=e,this.errorMessage="",this.emailRequiredError="Email \xE9 obrigat\xF3rio.",this.emailInvalidError="Por favor, insira um email v\xE1lido.",this.passwordRequiredError="Senha \xE9 obrigat\xF3ria.",this.exibirSenha=!1,this.senhaInputType="password",this.loginForm=this.formBuilder.group({email:["",[c.required,c.email]],senha:["",c.required]})}ngOnInit(){}fazerLogin(){return v(this,null,function*(){if(this.loginForm.valid){let{email:g,senha:l}=this.loginForm.value;try{yield this.authService.loginUser(g,l),console.log("Login realizado com sucesso!"),this.router.navigate(["/feed"])}catch(e){this.errorMessage=e.message||"Erro ao fazer login.",e.code==="auth/invalid-credential"?this.errorMessage="Credenciais inv\xE1lidas.":e.code==="auth/user-not-found"&&(this.errorMessage="Usu\xE1rio n\xE3o encontrado.")}}else this.errorMessage="Por favor, preencha todos os campos corretamente."})}getEmailErrorMessage(){return this.loginForm.controls.email.hasError("required")?this.emailRequiredError:this.loginForm.controls.email.hasError("email")?this.emailInvalidError:""}getPasswordErrorMessage(){return this.loginForm.controls.senha.hasError("required")?this.passwordRequiredError:""}};a.\u0275fac=function(l){return new(l||a)(m(O),m(I),m(z))},a.\u0275cmp=x({type:a,selectors:[["app-login"]],decls:26,vars:12,consts:[[1,"login-page",3,"fullscreen"],[1,"login-container"],[1,"login-header"],[3,"ngSubmit","formGroup"],["label","Email","controlName","email"],[1,"bi","bi-envelope-fill"],["class","error-message",4,"ngIf"],[1,"password-input-container"],["controlName","senha",3,"label","type"],[1,"bi","bi-lock-fill"],["type","button",1,"toggle-password-button",3,"click"],[3,"ngClass"],[1,"forgot-password"],["href","../forgot-password"],["type","submit",3,"label","disabled"],[1,"separator"],[3,"text","linkText","route"],[1,"error-message"]],template:function(l,e){l&1&&(n(0,"ion-content",0)(1,"div",1)(2,"div",2)(3,"h1"),s(4,"Junte-Se A N\xF3s E Leve Mais Sabor Ao Mundo!"),t(),n(5,"p"),s(6,"Bem-vindo de volta! Acesse sua conta para continuar explorando e aproveitando ao m\xE1ximo tudo o que temos para oferecer."),t()(),n(7,"form",3),f("ngSubmit",function(){return e.fazerLogin()}),n(8,"app-custom-input",4),p(9,"i",5),t(),u(10,B,2,1,"div",6),n(11,"div",7)(12,"app-custom-input",8),p(13,"i",9),t(),n(14,"button",10),f("click",function(){return e.toggleSenha()}),p(15,"i",11),t()(),n(16,"div",12)(17,"a",13),s(18,"Perdeu a Senha?"),t()(),u(19,j,2,1,"div",6),p(20,"app-button",14),t(),n(21,"div",15)(22,"span"),s(23,"Ou"),t()(),p(24,"app-social-login")(25,"app-footer-link",16),t()()),l&2&&(r("fullscreen",!0),o(7),r("formGroup",e.loginForm),o(3),r("ngIf",e.loginForm.controls.email.invalid&&(e.loginForm.controls.email.dirty||e.loginForm.controls.email.touched)),o(2),r("label","Senha")("type",e.senhaInputType),o(3),r("ngClass",e.exibirSenha?"bi bi-eye-slash-fill":"bi bi-eye-fill"),o(4),r("ngIf",e.errorMessage),o(),r("label","Log In")("disabled",e.loginForm.invalid),o(5),r("text","N\xE3o tem uma conta?")("linkText","Cadastre-se")("route","/cadastro"))},dependencies:[P,b,_,k,E,F,y,S,w,T,q,N,L],styles:['@charset "UTF-8";.login-page[_ngcontent-%COMP%]{--background: #111;display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;margin:0 auto}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:300px;margin:10px auto}.login-header[_ngcontent-%COMP%]{color:#f0f0f0;text-align:center;margin:20px 0}.login-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:20px;color:#f0dbbe;margin-bottom:10px}.login-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#f0f0f0;line-height:1.4}.forgot-password[_ngcontent-%COMP%]{width:100%;text-align:right;margin-bottom:20px}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ad2f33;text-decoration:none}.forgot-password[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.login-button[_ngcontent-%COMP%]{--background: #ad2f33;--color: #fff;border-radius:8px;height:50px;width:100%;margin-bottom:20px}.separator[_ngcontent-%COMP%]{width:100%;display:flex;align-items:center;text-align:center;color:#777;margin:20px 0}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex-grow:1;background-color:#777;height:1px;margin:0 10px}.separator[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{padding:0 10px}app-social-login[_ngcontent-%COMP%]{width:100%;margin-bottom:20px}app-footer-link[_ngcontent-%COMP%]{width:100%}.login-container[_ngcontent-%COMP%]   app-custom-input[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;left:10px;top:50%;transform:translateY(-50%);font-size:1.2em;color:#777}.login-container[_ngcontent-%COMP%]   app-custom-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:35px;color:#777}.password-input-container[_ngcontent-%COMP%]{position:relative}.toggle-password-button[_ngcontent-%COMP%]{position:absolute;top:50%;right:10px;transform:translateY(-50%);background:none;border:none;padding:0;cursor:pointer;font-size:1.2em;color:#ad2f33}.login-container[_ngcontent-%COMP%]   app-custom-input[_ngcontent-%COMP%]   .input-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding-left:35px;padding-right:40px;color:#3d3d39}']});let i=a;return i})();export{ee as LoginPage};
