import{a as T}from"./chunk-IVYJ7RYW.js";import{a as V}from"./chunk-VHRLFIFT.js";import"./chunk-RO3PRQET.js";import"./chunk-TF2KOS4Q.js";import"./chunk-B646OTCI.js";import"./chunk-7JSI5SCB.js";import"./chunk-Z3CHXUHI.js";import"./chunk-HC6MZPB3.js";import"./chunk-IP3IRUG3.js";import"./chunk-FYKNTBE2.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-OFKYDT3Y.js";import"./chunk-SJBLRW5X.js";import"./chunk-CARB67EU.js";import"./chunk-XXKETIBL.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-JFFBAPXU.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-O5PN56JD.js";import"./chunk-P4K7NQPT.js";import"./chunk-BL7BDUKV.js";import{c as I}from"./chunk-3HB2GM6U.js";import{$ as _,H as f,I as m,N as w,R as P,S as r,Sa as h,Ta as M,V as O,X as b,Xa as C,bb as F,ca as c,ea as y,fa as k,ha as a,ia as l,ja as v,na as x,oa as g,pa as p,sa as S,ya as d,za as u}from"./chunk-J7TXCJLH.js";import"./chunk-CTXH4QH2.js";import"./chunk-A4HHE4W2.js";import"./chunk-LFRXSQAQ.js";import"./chunk-GK6EN35L.js";import"./chunk-25Z7UPBE.js";import"./chunk-4U6PRYVA.js";import"./chunk-II53MLED.js";import"./chunk-RUL3GU37.js";import"./chunk-WTCPO44B.js";import"./chunk-IOUSJTJ3.js";import"./chunk-SV7S5NYR.js";import"./chunk-OLRFWS6T.js";function L(t,o){if(t&1){let e=x();a(0,"div",6),g("click",function(){let n=f(e).$implicit,s=p();return m(s.onOptionClick(n.value))}),a(1,"div",7),d(2),l()()}if(t&2){let e=o.$implicit,i=p();y("selected",i.isSelected(e.value)),r(2),u(e.label)}}var B=(()=>{let o=class o{constructor(){this.title="",this.iconClass="",this.options=[],this.currentSelectedValues=[],this.optionSelected=new w}ngOnInit(){}onOptionClick(i){this.optionSelected.emit(i)}isSelected(i){return this.currentSelectedValues.includes(i)}};o.\u0275fac=function(n){return new(n||o)},o.\u0275cmp=b({type:o,selectors:[["app-option-section"]],inputs:{title:"title",iconClass:"iconClass",options:"options",currentSelectedValues:"currentSelectedValues"},outputs:{optionSelected:"optionSelected"},decls:8,vars:5,consts:[[1,"option-section-container"],[1,"section-header"],[1,"icon-wrapper"],[1,"section-title"],[1,"options-wrapper"],["class","option-item",3,"selected","click",4,"ngFor","ngForOf"],[1,"option-item",3,"click"],[1,"option-label"]],template:function(n,s){n&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),v(3,"i"),l(),a(4,"div",3),d(5),l()(),a(6,"div",4),_(7,L,3,3,"div",5),l()()),n&2&&(r(3),k(s.iconClass),r(2),u(s.title),r(2),c("ngForOf",s.options))},dependencies:[C,h],styles:[".option-section-container[_ngcontent-%COMP%]{width:100%;margin:30px 0;box-sizing:border-box}.section-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px;margin-bottom:16px}.section-header[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]{width:18px;height:18px;position:relative;overflow:hidden;display:flex;justify-content:center;align-items:center}.section-header[_ngcontent-%COMP%]   .icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;color:#ad2f33}.section-header[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{color:#f0f0f0;font-size:14px;white-space:nowrap}.options-wrapper[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:15px}.option-item[_ngcontent-%COMP%]{background:#1d1d19;border-radius:8px;padding:10px 15px;display:flex;justify-content:center;align-items:center;cursor:pointer;transition:background-color .2s ease,transform .1s ease}.option-item[_ngcontent-%COMP%]:hover{background-color:#0f0f0d}.option-item[_ngcontent-%COMP%]:active{transform:scale(.98)}.option-item.selected[_ngcontent-%COMP%]{background-color:#67161f;color:#fff;font-weight:700}.option-item[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{color:#f0f0f0;font-size:12px;white-space:nowrap}"]});let t=o;return t})();function z(t,o){t&1&&v(0,"app-page-header",7),t&2&&c("showBackButton",!0)}function j(t,o){if(t&1){let e=x();a(0,"app-page-header",8),g("backButtonClick",function(){f(e);let n=p();return m(n.backToFilters())}),l()}t&2&&c("showBackButton",!0)("backButtonRoute","/feed")}function D(t,o){if(t&1){let e=x();a(0,"div",9)(1,"app-option-section",10),g("optionSelected",function(n){f(e);let s=p();return m(s.handleOptionSelected("categories",n))}),l(),a(2,"app-option-section",10),g("optionSelected",function(n){f(e);let s=p();return m(s.handleOptionSelected("time",n))}),l(),a(3,"app-option-section",10),g("optionSelected",function(n){f(e);let s=p();return m(s.handleOptionSelected("difficulty",n))}),l(),a(4,"app-option-section",10),g("optionSelected",function(n){f(e);let s=p();return m(s.handleOptionSelected("foodTypes",n))}),l(),a(5,"div",11)(6,"button",12),g("click",function(){f(e);let n=p();return m(n.applyFilters())}),d(7,"Filtrar"),l()()()}if(t&2){let e=p();r(),c("title","Categorias")("iconClass","bi bi-grid-fill")("options",e.categoriesOptions)("currentSelectedValues",e.selectedFilters.categories),r(),c("title","Tempo de Preparo")("iconClass","bi bi-clock-fill")("options",e.timeOptions)("currentSelectedValues",e.selectedFilters.time),r(),c("title","Dificuldade")("iconClass","bi bi-star-fill")("options",e.difficultyOptions)("currentSelectedValues",e.selectedFilters.difficulty),r(),c("title","Tipos de Alimentos")("iconClass","bi bi-egg-fill")("options",e.foodTypesOptions)("currentSelectedValues",e.selectedFilters.foodTypes)}}function $(t,o){t&1&&(a(0,"p",18),d(1,"Carregando receitas..."),l())}function N(t,o){t&1&&(a(0,"p",19),d(1,"Nenhuma receita encontrada com os filtros selecionados."),l())}function A(t,o){if(t&1&&(a(0,"span",29),d(1),l()),t&2){let e=p().$implicit;r(),u(e.categoryLabel)}}function U(t,o){if(t&1&&(a(0,"span",30),d(1),l()),t&2){let e=p().$implicit;r(),u(e.timeLabel)}}function q(t,o){if(t&1&&(a(0,"span",31),d(1),l()),t&2){let e=p().$implicit;r(),u(e.difficultyLabel)}}function G(t,o){if(t&1){let e=x();a(0,"div",20),g("click",function(){let n=f(e).$implicit,s=p(2);return m(s.navigateToRecipeDetail(n.id))}),v(1,"img",21),a(2,"div",22)(3,"h4",23),d(4),l(),a(5,"p",24),d(6),l(),a(7,"div",25),_(8,A,2,1,"span",26)(9,U,2,1,"span",27)(10,q,2,1,"span",28),l()()()}if(t&2){let e=o.$implicit;r(),S("alt",e.recipeName),c("src",e.photoUrl||"assets/placeholder.png",P),r(3),u(e.recipeName),r(2),u(e.description),r(2),c("ngIf",e.categoryLabel),r(),c("ngIf",e.timeLabel),r(),c("ngIf",e.difficultyLabel)}}function H(t,o){if(t&1&&(a(0,"div",13),_(1,$,2,0,"p",14)(2,N,2,0,"p",15),a(3,"div",16),_(4,G,11,7,"div",17),l()()),t&2){let e=p();r(),c("ngIf",e.isLoading),r(),c("ngIf",!e.isLoading&&e.filteredRecipes.length===0),r(2),c("ngForOf",e.filteredRecipes)}}var pe=(()=>{let o=class o{constructor(i,n){this.router=i,this.receitaService=n,this.selectedFilters={categories:[],time:[],difficulty:[],foodTypes:[]},this.filteredRecipes=[],this.isLoading=!1,this.showFilters=!0,this.categoriesOptions=[{label:"Lanches",value:"1"},{label:"Refei\xE7\xF5es",value:"2"},{label:"Sobremesas",value:"3"}],this.timeOptions=[{label:"At\xE9 30 min",value:"1"},{label:"30-60 min",value:"2"},{label:"60-120 min",value:"3"},{label:"Mais de 120 min",value:"4"}],this.difficultyOptions=[{label:"F\xE1cil",value:"1"},{label:"M\xE9dio",value:"2"},{label:"Dif\xEDcil",value:"3"}],this.foodTypesOptions=[{label:"Carnes, Aves e Peixes",value:"1"},{label:"Latic\xEDnios e Ovos",value:"2"},{label:"Cereais e Gr\xE3os",value:"3"},{label:"Leguminosas",value:"4"},{label:"Frutas",value:"5"},{label:"Vegetais",value:"6"},{label:"\xD3leos e Gorduras",value:"7"},{label:"A\xE7\xFAcares e Doces",value:"8"},{label:"Especiarias e Condimentos",value:"9"},{label:"Bebidas",value:"10"}]}ngOnInit(){}handleOptionSelected(i,n){this.selectedFilters[i]||(this.selectedFilters[i]=[]);let s=this.selectedFilters[i].indexOf(n);s>-1?this.selectedFilters[i].splice(s,1):this.selectedFilters[i].push(n),console.log(`Filtros Selecionados para ${i}:`,this.selectedFilters[i])}applyFilters(){this.isLoading=!0,this.filteredRecipes=[],this.showFilters=!1,this.receitaService.getRecipes(this.selectedFilters).subscribe({next:i=>{this.filteredRecipes=i,console.log("Receitas encontradas:",this.filteredRecipes),this.isLoading=!1},error:i=>{console.error("Erro ao buscar receitas:",i),this.filteredRecipes=[],this.isLoading=!1}})}navigateToRecipeDetail(i){console.log("Navegando para detalhes da receita:",i),this.router.navigate(["/receita-detalhe",i])}backToFilters(){this.showFilters=!0,this.filteredRecipes=[]}};o.\u0275fac=function(n){return new(n||o)(O(F),O(T))},o.\u0275cmp=b({type:o,selectors:[["app-filter"]],decls:7,vars:5,consts:[[1,"filter-page",3,"fullscreen"],[1,"container"],[1,"page-header-container-custom"],["title","Filtros","backButtonRoute","/feed",3,"showBackButton",4,"ngIf"],["title","Resultados da Pesquisa",3,"showBackButton","backButtonRoute","backButtonClick",4,"ngIf"],["class","filter-sections",4,"ngIf"],["class","filtered-recipes-display",4,"ngIf"],["title","Filtros","backButtonRoute","/feed",3,"showBackButton"],["title","Resultados da Pesquisa",3,"backButtonClick","showBackButton","backButtonRoute"],[1,"filter-sections"],[3,"optionSelected","title","iconClass","options","currentSelectedValues"],[1,"filter-actions"],[1,"apply-filters-button",3,"click"],[1,"filtered-recipes-display"],["class","loading-message",4,"ngIf"],["class","no-results-message",4,"ngIf"],[1,"recipes-grid"],["class","recipe-card",3,"click",4,"ngFor","ngForOf"],[1,"loading-message"],[1,"no-results-message"],[1,"recipe-card",3,"click"],[1,"recipe-image",3,"src","alt"],[1,"recipe-info"],[1,"recipe-name"],[1,"recipe-description"],[1,"recipe-meta"],["class","meta-item category",4,"ngIf"],["class","meta-item time",4,"ngIf"],["class","meta-item difficulty",4,"ngIf"],[1,"meta-item","category"],[1,"meta-item","time"],[1,"meta-item","difficulty"]],template:function(n,s){n&1&&(a(0,"ion-content",0)(1,"div",1)(2,"div",2),_(3,z,1,1,"app-page-header",3)(4,j,1,2,"app-page-header",4),l(),_(5,D,8,16,"div",5)(6,H,5,3,"div",6),l()()),n&2&&(c("fullscreen",!0),r(3),c("ngIf",s.showFilters),r(),c("ngIf",!s.showFilters),r(),c("ngIf",s.showFilters),r(),c("ngIf",!s.showFilters))},dependencies:[C,h,M,I,V,B],styles:['@charset "UTF-8";ion-content[_ngcontent-%COMP%]{--background: #11110F}.container[_ngcontent-%COMP%]{width:85%;margin:0 auto;padding:0 0 20px}.page-header-container-custom[_ngcontent-%COMP%]{position:sticky;top:0;z-index:10;background:#11110f;transition:background-color .3s ease-in-out}.filter-sections[_ngcontent-%COMP%], .filtered-recipes-display[_ngcontent-%COMP%]{transition:opacity .5s ease-in-out,transform .5s ease-in-out}.filter-sections[_ngcontent-%COMP%]{margin-top:15px}.filter-sections[_ngcontent-%COMP%]   app-option-section[_ngcontent-%COMP%]{margin-bottom:20px}.filter-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;margin-top:30px;padding-bottom:20px}.filter-actions[_ngcontent-%COMP%]   .apply-filters-button[_ngcontent-%COMP%]{padding:15px 20px;border-radius:8px;margin:20px 0;border:none;cursor:pointer;transition:background-color .2s ease;flex:1;font-size:14px}.filter-actions[_ngcontent-%COMP%]   .apply-filters-button[_ngcontent-%COMP%]{background-color:#ad2f33;color:#fff}.filter-actions[_ngcontent-%COMP%]   .apply-filters-button[_ngcontent-%COMP%]:hover{background-color:#852427}.filtered-recipes-display[_ngcontent-%COMP%]{margin-top:30px;padding:0}.filtered-recipes-display[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.3em;color:#f0f0f0;margin-bottom:15px;text-align:center}.loading-message[_ngcontent-%COMP%], .no-results-message[_ngcontent-%COMP%]{color:#f0f0f0;text-align:center;padding:20px;font-size:1.1em}.recipes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:15px;justify-content:center;padding-bottom:20px}.recipe-card[_ngcontent-%COMP%]{background-color:#1d1d19;border-radius:10px;overflow:hidden;box-shadow:0 4px 12px #0003;display:flex;flex-direction:column;cursor:pointer;transition:transform .2s ease-in-out,box-shadow .2s ease-in-out;text-align:left;color:#f0f0f0}.recipe-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 20px #0000004d}.recipe-image[_ngcontent-%COMP%]{width:100%;height:120px;object-fit:cover;border-bottom:1px solid #333}.recipe-info[_ngcontent-%COMP%]{padding:10px;flex-grow:1;display:flex;flex-direction:column;justify-content:space-between}.recipe-name[_ngcontent-%COMP%]{font-size:1.1em;font-weight:700;color:#f0f0f0;margin-bottom:5px;white-space:normal;overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical}.recipe-description[_ngcontent-%COMP%]{font-size:.85em;color:#b0b0b0;line-height:1.4;display:-webkit-box;-webkit-line-clamp:3;-webkit-box-orient:vertical;overflow:hidden;margin-bottom:10px}.recipe-meta[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:5px;margin-top:auto}.meta-item[_ngcontent-%COMP%]{background-color:#ad2f33;color:#fff;font-size:.7em;padding:3px 7px;border-radius:12px;white-space:nowrap}.results-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:20px;padding-bottom:20px}.results-actions[_ngcontent-%COMP%]   .back-to-filters-button[_ngcontent-%COMP%]{background-color:#ad2f33;color:#fff;padding:12px 20px;border-radius:8px;font-weight:700;font-size:1em;cursor:pointer;transition:background-color .2s ease-in-out,transform .1s ease-in-out;border:none}.results-actions[_ngcontent-%COMP%]   .back-to-filters-button[_ngcontent-%COMP%]:hover{background-color:#852427}']});let t=o;return t})();export{pe as FilterPage};
