import{a as B}from"./chunk-VHRLFIFT.js";import{a as L}from"./chunk-RO3PRQET.js";import"./chunk-TF2KOS4Q.js";import"./chunk-B646OTCI.js";import"./chunk-7JSI5SCB.js";import"./chunk-Z3CHXUHI.js";import"./chunk-HC6MZPB3.js";import"./chunk-IP3IRUG3.js";import"./chunk-FYKNTBE2.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-OFKYDT3Y.js";import"./chunk-SJBLRW5X.js";import"./chunk-CARB67EU.js";import"./chunk-XXKETIBL.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-JFFBAPXU.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import{a as S}from"./chunk-UZG4YI3I.js";import{f as z,j as D,k as H}from"./chunk-O5PN56JD.js";import"./chunk-P4K7NQPT.js";import{F as j,G as A}from"./chunk-BL7BDUKV.js";import{c as v,d as w,e as I,f as T,g as E}from"./chunk-3HB2GM6U.js";import{Aa as b,Da as P,Ea as M,Eb as k,Fa as _,S as i,V as s,X as C,bb as x,ca as g,ha as l,ia as d,ja as m,oa as h,qb as O,sb as y,x as f,ya as u}from"./chunk-J7TXCJLH.js";import"./chunk-CTXH4QH2.js";import"./chunk-A4HHE4W2.js";import"./chunk-LFRXSQAQ.js";import"./chunk-GK6EN35L.js";import"./chunk-25Z7UPBE.js";import"./chunk-4U6PRYVA.js";import"./chunk-II53MLED.js";import"./chunk-RUL3GU37.js";import"./chunk-WTCPO44B.js";import"./chunk-IOUSJTJ3.js";import"./chunk-SV7S5NYR.js";import{g as p}from"./chunk-OLRFWS6T.js";var F=(()=>{let n=class n{constructor(){this.highContrastClass="ion-palette-high-contrast";let t=localStorage.getItem("highContrastEnabled"),e=window.matchMedia("(prefers-contrast: more)"),o=t!==null?JSON.parse(t):e.matches;this.setHighContrast(o),e.addEventListener("change",r=>{this.setHighContrast(r.matches)})}setHighContrast(t){document.documentElement.classList.toggle(this.highContrastClass,t),document.body.classList.toggle(this.highContrastClass,t),localStorage.setItem("highContrastEnabled",JSON.stringify(t))}getHighContrast(){return document.documentElement.classList.contains(this.highContrastClass)}};n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=f({token:n,factory:n.\u0275fac,providedIn:"root"});let a=n;return a})();var Z=(()=>{let n=class n{constructor(t,e,o,r){this.router=t,this.alertCtrl=e,this.firestore=o,this.themeService=r,this.isAlertPresented=!1,this.highContrastPaletteToggle=!1,this.highContrastPaletteToggle=this.themeService.getHighContrast()}highContrastPaletteToggleChange(t){this.themeService.setHighContrast(t.detail.checked)}deletarConta(){return p(this,null,function*(){if(this.isAlertPresented)return;this.isAlertPresented=!0,yield(yield this.alertCtrl.create({header:"Confirma\xE7\xE3o",message:"Tem certeza que deseja deletar sua conta? Essa a\xE7\xE3o \xE9 irrevers\xEDvel.",cssClass:"custom-delete-alert",buttons:[{text:"Cancelar",role:"cancel",cssClass:"alert-cancel-btn",handler:()=>{this.isAlertPresented=!1}},{text:"Deletar",handler:()=>{this.isAlertPresented=!1,this.confirmarDeletarConta()},cssClass:"alert-delete-btn"}]})).present()})}confirmarDeletarConta(){return p(this,null,function*(){let e=A().currentUser;if(e)try{yield D(H(this.firestore,"users",e.uid)),console.log("Dados do Firestore deletados."),yield j(e),console.log("Usu\xE1rio autenticado deletado."),this.router.navigate(["/login"])}catch(o){console.error("Erro ao deletar conta:",o),alert("Erro ao deletar conta. Fa\xE7a login novamente e tente.")}else alert("Nenhum usu\xE1rio logado.")})}};n.\u0275fac=function(e){return new(e||n)(s(x),s(L),s(z),s(F))},n.\u0275cmp=C({type:n,selectors:[["app-conta"]],decls:12,vars:6,consts:[[1,"account-page"],[1,"container"],["title","Conta","backButtonRoute","/configuracoes",3,"showBackButton"],[1,"toggle-item"],[1,"toggle-label"],[2,"margin-right","8px",3,"name"],[1,"styled-toggle",3,"ngModelChange","ionChange","ngModel","enableOnOffLabels"],[1,"section","delete-account"],["buttonType","danger",1,"mt-3",3,"buttonClick","label"]],template:function(e,o){e&1&&(l(0,"ion-content",0)(1,"div",1),m(2,"app-page-header",2),l(3,"ion-item",3)(4,"ion-label",4),m(5,"ion-icon",5),u(6),d(),l(7,"ion-toggle",6),_("ngModelChange",function(c){return M(o.highContrastPaletteToggle,c)||(o.highContrastPaletteToggle=c),c}),h("ionChange",function(c){return o.highContrastPaletteToggleChange(c)}),d()(),l(8,"div",7)(9,"p"),u(10,"Se voc\xEA deseja excluir sua conta permanentemente, clique no bot\xE3o abaixo:"),d(),l(11,"app-button",8),h("buttonClick",function(){return o.deletarConta()}),d()()()()),e&2&&(i(2),g("showBackButton",!0),i(3),g("name",o.highContrastPaletteToggle?"eye":"eye-off"),i(),b(" ",o.highContrastPaletteToggle?"Modo Alto Contraste Ativado":"Modo Alto Contraste Desativado"," "),i(),P("ngModel",o.highContrastPaletteToggle),g("enableOnOffLabels",!1),i(4),g("label","Deletar Conta"))},dependencies:[B,S,v,w,E,T,I,k,O,y],styles:[".account-page[_ngcontent-%COMP%]{--background: #111}.account-page[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{width:90%;margin:0 auto;display:flex;flex-direction:column;justify-content:space-between;min-height:100vh;padding-bottom:40px}.account-page[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]{margin-top:60px;text-align:center}.account-page[_ngcontent-%COMP%]   .section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f0f0f0;font-size:14px;margin-bottom:20px}.account-page[_ngcontent-%COMP%]   .delete-section[_ngcontent-%COMP%]{margin-top:auto;text-align:center;padding:30px 20px}.account-page[_ngcontent-%COMP%]   .delete-section[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#f0f0f0;font-size:16px;margin-bottom:20px}.account-page[_ngcontent-%COMP%]   .delete-section[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]{background-color:#b6002c;color:#fff;border:none;padding:12px 24px;border-radius:25px;font-size:16px;cursor:pointer;transition:background-color .3s ease}.account-page[_ngcontent-%COMP%]   .delete-section[_ngcontent-%COMP%]   .delete-button[_ngcontent-%COMP%]:hover{background-color:#900020}.custom-delete-alert[_ngcontent-%COMP%]{--background: #111;--color: #fff}.custom-delete-alert[_ngcontent-%COMP%]   .alert-wrapper[_ngcontent-%COMP%]{border-radius:15px;box-shadow:0 4px 12px #ffe13466;padding:10px}.custom-delete-alert[_ngcontent-%COMP%]   .alert-title[_ngcontent-%COMP%]{font-size:20px;color:#ffe134;font-weight:700;text-align:center}.custom-delete-alert[_ngcontent-%COMP%]   .alert-message[_ngcontent-%COMP%]{font-size:16px;color:#f0f0f0;text-align:center}.custom-delete-alert[_ngcontent-%COMP%]   .alert-button-group[_ngcontent-%COMP%]{display:flex!important;flex-direction:row!important;justify-content:space-around;align-items:center;padding:10px}.custom-delete-alert[_ngcontent-%COMP%]   .alert-button[_ngcontent-%COMP%]{flex:1;margin:0 8px;font-size:15px;font-weight:700;border-radius:10px;padding:10px;text-align:center}.custom-delete-alert[_ngcontent-%COMP%]   .alert-cancel-btn[_ngcontent-%COMP%]{background-color:#444;color:#ccc}.custom-delete-alert[_ngcontent-%COMP%]   .alert-delete-btn[_ngcontent-%COMP%]{background-color:#b6002c;color:#fff}.toggle-item[_ngcontent-%COMP%]{--background: transparent;--color: #fff;display:flex;justify-content:space-between;align-items:center;padding:16px;border-radius:12px;border:2px solid #b6002c;margin:16px 0;background-color:#1a1a1a}.toggle-item[_ngcontent-%COMP%]   .toggle-label[_ngcontent-%COMP%]{font-size:16px;font-weight:700;color:#fff!important;display:flex;align-items:center}.toggle-item[_ngcontent-%COMP%]   ion-toggle.styled-toggle[_ngcontent-%COMP%]{--handle-background: #ffe134 !important;--handle-background-checked: #000 !important;--handle-border-color: transparent !important;--track-background: #444 !important;--track-background-checked: #ffe134 !important;--handle-width: 22px !important;--handle-height: 22px !important;--track-height: 24px !important;--track-width: 48px !important;transform:scale(1.3);margin-left:8px}.toggle-item[_ngcontent-%COMP%]   ion-toggle.custom-toggle[_ngcontent-%COMP%]{--handle-background: #b6002c;--track-background: #444;--handle-border-color: #fff;margin-left:auto;transform:scale(1.4)}.toggle-item[_ngcontent-%COMP%]   ion-toggle.custom-toggle[_ngcontent-%COMP%]::part(label){font-weight:700;font-size:16px;color:#fff;margin-right:12px}"]});let a=n;return a})();export{Z as ContaPage};
