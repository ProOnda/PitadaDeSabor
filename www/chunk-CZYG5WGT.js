import{a as j}from"./chunk-IVYJ7RYW.js";import{a as L}from"./chunk-TJ4WWLIQ.js";import{a as A}from"./chunk-VHRLFIFT.js";import"./chunk-RO3PRQET.js";import"./chunk-TF2KOS4Q.js";import"./chunk-B646OTCI.js";import"./chunk-7JSI5SCB.js";import"./chunk-Z3CHXUHI.js";import"./chunk-HC6MZPB3.js";import"./chunk-IP3IRUG3.js";import"./chunk-FYKNTBE2.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-OFKYDT3Y.js";import"./chunk-SJBLRW5X.js";import{a as B}from"./chunk-4EICRDDQ.js";import"./chunk-CARB67EU.js";import"./chunk-XXKETIBL.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-JFFBAPXU.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-O5PN56JD.js";import"./chunk-P4K7NQPT.js";import"./chunk-BL7BDUKV.js";import"./chunk-3HB2GM6U.js";import{$ as _,B as f,H as x,I as v,Ia as V,Ja as z,R as y,S as o,Sa as D,Ta as R,Va as T,X as k,Xa as U,bb as $,ca as l,ea as d,ha as s,ia as c,ja as h,ka as I,l as m,la as S,n as M,na as E,oa as C,pa as g,r as O,s as b,sa as F,t as w,ya as p,za as u}from"./chunk-J7TXCJLH.js";import"./chunk-CTXH4QH2.js";import"./chunk-A4HHE4W2.js";import"./chunk-LFRXSQAQ.js";import"./chunk-GK6EN35L.js";import"./chunk-25Z7UPBE.js";import"./chunk-4U6PRYVA.js";import"./chunk-II53MLED.js";import"./chunk-RUL3GU37.js";import"./chunk-WTCPO44B.js";import"./chunk-IOUSJTJ3.js";import"./chunk-SV7S5NYR.js";import{a as P}from"./chunk-OLRFWS6T.js";function H(n,r){n&1&&(s(0,"p",9),p(1,"Carregando favoritos..."),c())}function Y(n,r){if(n&1&&(s(0,"p",10),p(1),c()),n&2){let i=g();o(),u(i.error)}}function q(n,r){if(n&1){let i=E();s(0,"div",15)(1,"div",16),h(2,"div",17)(3,"img",18),c(),s(4,"div",19),C("click",function(t){let a=x(i).$implicit;return g(3).toggleRecipeDetails(a.id),v(t.stopPropagation())}),s(5,"h4",20),p(6),c(),s(7,"div",21),h(8,"i",22),c()(),s(9,"div",23)(10,"p",24),p(11),c(),s(12,"button",25),C("click",function(t){let a=x(i).$implicit;return g(3).navigateToRecipeDetail(a.id),v(t.stopPropagation())}),p(13,"Saiba Mais"),c()()()}if(n&2){let i=r.$implicit,e=g(3);d("expanded",e.isDetailsVisible(i.id)),o(3),F("alt",i.recipeName),l("src",i.photoUrl||"https://placehold.co/311x229",y),o(3),u(i.recipeName),o(),d("open",e.isDetailsVisible(i.id)),o(),d("bi-chevron-up",e.isDetailsVisible(i.id))("bi-chevron-down",!e.isDetailsVisible(i.id)),o(),d("visible",e.isDetailsVisible(i.id)),o(2),u(i.description)}}function G(n,r){if(n&1&&(s(0,"div",13),_(1,q,14,14,"div",14),c()),n&2){let i=g().ngIf;o(),l("ngForOf",i)}}function J(n,r){n&1&&(s(0,"p",26),p(1," Voc\xEA ainda n\xE3o tem nenhuma receita favorita. Adicione algumas! "),c())}function K(n,r){if(n&1&&(I(0),_(1,G,2,1,"div",11)(2,J,2,0,"p",12),h(3,"app-feed-menu"),S()),n&2){let i=r.ngIf,e=g();o(),l("ngIf",!e.isLoading&&i.length>0),o(),l("ngIf",!e.isLoading&&!e.error&&i.length===0)}}var ce=(()=>{let r=class r{constructor(){this.favoriteRecipes$=m([]),this.isLoading=!0,this.error=null,this.loggedInUserUid=null,this.receitaService=f(j),this.authService=f(B),this.router=f($),this.detailsVisibility={}}ngOnInit(){this.authSubscription=this.authService.authState.pipe(O(e=>!!(e!=null&&e.uid)),w(e=>(this.loggedInUserUid=e.uid,this.isLoading=!0,this.error=null,this.receitaService.getFavoriteRecipes(this.loggedInUserUid).pipe(b(t=>(console.error("Erro ao carregar receitas favoritas:",t),this.error="N\xE3o foi poss\xEDvel carregar suas receitas favoritas.",this.isLoading=!1,m([]))))))).subscribe(e=>{this.favoriteRecipes$=m(e),this.isLoading=!1,e.length===0&&!this.error?this.error="Voc\xEA ainda n\xE3o tem nenhuma receita favorita. Adicione algumas!":e.length>0&&(this.error=null,e.forEach(t=>{this.detailsVisibility[t.id]=!1}))})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}toggleRecipeDetails(e){let t=P({},this.detailsVisibility);Object.keys(t).forEach(a=>{a===e?t[a]=!t[a]:t[a]=!1}),this.detailsVisibility=t}isDetailsVisible(e){return this.detailsVisibility[e]||!1}toggleFavorite(e){if(!this.loggedInUserUid||!e){console.warn("Usu\xE1rio n\xE3o logado ou ID da receita n\xE3o dispon\xEDvel para remover favorito.");return}this.receitaService.toggleFavoriteRecipe(this.loggedInUserUid,e,!0).subscribe({next:()=>{console.log(`Receita ${e} removida dos favoritos.`),this.favoriteRecipes$=this.favoriteRecipes$.pipe(M(t=>t.filter(a=>a.id!==e)))},error:t=>{console.error("Erro ao remover favorito:",t)}})}navigateToRecipeDetail(e){this.router.navigate(["/receita-detalhe",e])}};r.\u0275fac=function(t){return new(t||r)},r.\u0275cmp=k({type:r,selectors:[["app-favorites"]],decls:10,vars:6,consts:[[1,"favorites-page-wrapper"],[1,"page-header-container-custom"],["title","Meus Favoritos","backButtonRoute","/feed",3,"showBackButton"],[1,"page-content-scrollable"],[1,"content"],[1,"main-favorites-display"],["class","loading-message",4,"ngIf"],["class","error-message",4,"ngIf"],[4,"ngIf"],[1,"loading-message"],[1,"error-message"],["class","recipes-grid",4,"ngIf"],["class","no-favorites-message",4,"ngIf"],[1,"recipes-grid"],["class","recipe-card",3,"expanded",4,"ngFor","ngForOf"],[1,"recipe-card"],[1,"recipe-image-container"],[1,"background-shape"],[1,"recipe-image",3,"src","alt"],[1,"recipe-header-section",3,"click"],[1,"recipe-name"],[1,"details-toggle"],[1,"bi"],[1,"recipe-details"],[1,"recipe-description"],[1,"learn-more-button",3,"click"],[1,"no-favorites-message"]],template:function(t,a){t&1&&(s(0,"div",0)(1,"div",1),h(2,"app-page-header",2),c(),s(3,"div",3)(4,"div",4)(5,"div",5),_(6,H,2,0,"p",6)(7,Y,2,1,"p",7)(8,K,4,2,"ng-container",8),V(9,"async"),c()()()()),t&2&&(o(2),l("showBackButton",!0),o(4),l("ngIf",a.isLoading),o(),l("ngIf",a.error),o(),l("ngIf",z(9,4,a.favoriteRecipes$)))},dependencies:[U,D,R,T,A,L],styles:['@charset "UTF-8";.favorites-page-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#11110f;color:#f0f0f0;overflow:hidden}.page-header-container-custom[_ngcontent-%COMP%]{width:85%;margin:20px auto 0;box-sizing:border-box}.page-content-scrollable[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:0}.content[_ngcontent-%COMP%]{width:100%;max-width:768px;margin:0 auto;padding:0;display:flex;flex-direction:column;align-items:center}.main-favorites-display[_ngcontent-%COMP%]{width:85%;margin:20px auto;box-sizing:border-box;padding-bottom:20px;flex-grow:1;display:flex;flex-direction:column;align-items:flex-start}.loading-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-favorites-message[_ngcontent-%COMP%]{color:#f0f0f0;font-size:16px;padding:20px;margin-top:20px;width:100%;max-width:400px;text-align:center;align-self:center}.recipes-grid[_ngcontent-%COMP%]{display:grid;gap:30px;width:100%;grid-template-columns:repeat(auto-fill,minmax(311px,1fr))}@media (max-width: 600px){.recipes-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.recipe-card[_ngcontent-%COMP%]{width:100%;min-height:26vh;position:relative;background-color:transparent;overflow:hidden;transition:transform .2s ease,box-shadow .2s ease,background-color .4s ease,border-radius .4s ease,min-height .4s ease-out;cursor:pointer;display:flex;flex-direction:column;border-radius:14px}.recipe-card.expanded[_ngcontent-%COMP%]{min-height:unset;height:auto;background-color:#1d1d19;border-radius:14px;box-shadow:0 8px 25px #0009}.recipe-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0009;border-radius:14px}.recipe-image-container[_ngcontent-%COMP%]{width:100%;height:20vh;position:relative;border-radius:14px;overflow:hidden;z-index:1}.recipe-image-container[_ngcontent-%COMP%]   .background-shape[_ngcontent-%COMP%]{width:100%;height:20vh;background:#f4f9fb;position:absolute;top:0;left:0;z-index:1;border-radius:20.79px}.recipe-image-container[_ngcontent-%COMP%]   .recipe-image[_ngcontent-%COMP%]{width:100%;height:auto;position:absolute;left:0;top:-19px;object-fit:cover;z-index:2}.recipe-header-section[_ngcontent-%COMP%]{width:100%;margin-top:15px;display:flex;justify-content:space-between;align-items:center;padding:0 15px;z-index:5}.recipe-name[_ngcontent-%COMP%]{color:#f0dbbe;font-size:16px;font-family:Mulish,sans-serif;text-transform:capitalize;margin:0;flex-grow:1;text-align:left;word-wrap:break-word}.details-toggle[_ngcontent-%COMP%]{width:12px;height:6px;position:relative;color:#f0dbbe;transition:transform .3s ease-in-out;cursor:pointer;display:flex;align-items:center;justify-content:center;margin-left:10px}.details-toggle[_ngcontent-%COMP%]   .bi[_ngcontent-%COMP%]{font-size:14px}.details-toggle.open[_ngcontent-%COMP%]{transform:rotate(-180deg)}.recipe-details[_ngcontent-%COMP%]{width:100%;background-color:transparent;padding:0 15px;max-height:0;overflow:hidden;transition:max-height .4s ease-out,padding .4s ease-out;display:flex;flex-direction:column;z-index:0}.recipe-details.visible[_ngcontent-%COMP%]{max-height:500px;padding:15px;position:relative;z-index:3}.recipe-description[_ngcontent-%COMP%]{font-size:14px;font-family:Mulish,sans-serif;color:#f0f0f0;line-height:25px;margin-bottom:10px;text-transform:capitalize;word-wrap:break-word;white-space:normal;-webkit-line-clamp:unset}.learn-more-button[_ngcontent-%COMP%]{padding:0;font-size:12px;font-family:Mulish,sans-serif;color:#f0f0f0;text-align:right;width:100%;margin-top:5px;background-color:transparent;border:none;cursor:pointer;-webkit-appearance:none;-moz-appearance:none;appearance:none}.learn-more-button[_ngcontent-%COMP%]:hover{text-decoration:underline}.learn-more-button[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 2px #f0f0f080}.learn-more-button[_ngcontent-%COMP%]:active{color:#f0f0f0cc}@media (max-width: 768px){.recipe-header-section[_ngcontent-%COMP%]{padding:0 10px}}.ion-palette-high-contrast[_nghost-%COMP%]   .favorites-page-wrapper[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .favorites-page-wrapper[_ngcontent-%COMP%], .ion-palette-high-contrast[_nghost-%COMP%]   .page-content-scrollable[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .page-content-scrollable[_ngcontent-%COMP%], .ion-palette-high-contrast[_nghost-%COMP%]   .main-favorites-display[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .main-favorites-display[_ngcontent-%COMP%]{background-color:#000!important;color:#fff!important}.ion-palette-high-contrast[_nghost-%COMP%]   .loading-message[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .loading-message[_ngcontent-%COMP%], .ion-palette-high-contrast[_nghost-%COMP%]   .error-message[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .error-message[_ngcontent-%COMP%], .ion-palette-high-contrast[_nghost-%COMP%]   .no-favorites-message[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .no-favorites-message[_ngcontent-%COMP%]{color:#fff!important}.ion-palette-high-contrast[_nghost-%COMP%]   .recipe-card[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .recipe-card[_ngcontent-%COMP%]{background-color:#000!important;border:1px solid #444!important}.ion-palette-high-contrast[_nghost-%COMP%]   .recipe-card.expanded[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .recipe-card.expanded[_ngcontent-%COMP%]{background-color:#111!important;box-shadow:0 0 0 2px #fff!important}.ion-palette-high-contrast[_nghost-%COMP%]   .recipe-header-section[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .recipe-header-section[_ngcontent-%COMP%], .ion-palette-high-contrast[_nghost-%COMP%]   .recipe-description[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .recipe-description[_ngcontent-%COMP%], .ion-palette-high-contrast[_nghost-%COMP%]   .learn-more-button[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .learn-more-button[_ngcontent-%COMP%]{color:#fff!important}.ion-palette-high-contrast[_nghost-%COMP%]   .details-toggle[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .details-toggle[_ngcontent-%COMP%]{color:#fff!important}.ion-palette-high-contrast[_nghost-%COMP%]   .recipe-image-container[_ngcontent-%COMP%]   .background-shape[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .recipe-image-container[_ngcontent-%COMP%]   .background-shape[_ngcontent-%COMP%]{background-color:#222!important}.ion-palette-high-contrast[_nghost-%COMP%]   .learn-more-button[_ngcontent-%COMP%]:hover, .ion-palette-high-contrast   [_nghost-%COMP%]   .learn-more-button[_ngcontent-%COMP%]:hover{color:#fff!important;text-decoration:underline}.ion-palette-high-contrast[_nghost-%COMP%]   .learn-more-button[_ngcontent-%COMP%]:active, .ion-palette-high-contrast   [_nghost-%COMP%]   .learn-more-button[_ngcontent-%COMP%]:active{color:#ccc!important}.ion-palette-high-contrast[_nghost-%COMP%]   .recipes-grid[_ngcontent-%COMP%], .ion-palette-high-contrast   [_nghost-%COMP%]   .recipes-grid[_ngcontent-%COMP%]{background-color:transparent!important}']});let n=r;return n})();export{ce as FavoritesPage};
