import"./chunk-NXAUS6XO.js";import"./chunk-AKOWJJL3.js";import{a as B}from"./chunk-IVYJ7RYW.js";import{a as T}from"./chunk-TJ4WWLIQ.js";import{a as N}from"./chunk-VHRLFIFT.js";import"./chunk-RO3PRQET.js";import"./chunk-TF2KOS4Q.js";import"./chunk-B646OTCI.js";import"./chunk-7JSI5SCB.js";import"./chunk-Z3CHXUHI.js";import"./chunk-HC6MZPB3.js";import"./chunk-IP3IRUG3.js";import"./chunk-FYKNTBE2.js";import"./chunk-RMJ7PCZJ.js";import"./chunk-OFKYDT3Y.js";import"./chunk-SJBLRW5X.js";import"./chunk-CARB67EU.js";import"./chunk-XXKETIBL.js";import"./chunk-GNOVVPTF.js";import"./chunk-5OMUW5VI.js";import"./chunk-OBXDPQ3V.js";import"./chunk-JFFBAPXU.js";import"./chunk-MCRJI3T3.js";import"./chunk-BAKMWPBW.js";import"./chunk-O5PN56JD.js";import"./chunk-P4K7NQPT.js";import"./chunk-BL7BDUKV.js";import{$ as u,Aa as I,B as d,H as y,I as _,Ia as S,Ka as L,R as C,S as r,Sa as k,Ta as E,Wa as R,X as w,Xa as F,ab as z,bb as D,ca as p,ha as n,ia as a,ja as g,l as h,na as P,oa as M,pa as m,s as x,sa as O,t as v,v as b,ya as l,za as f}from"./chunk-J7TXCJLH.js";import"./chunk-CTXH4QH2.js";import"./chunk-A4HHE4W2.js";import"./chunk-LFRXSQAQ.js";import"./chunk-GK6EN35L.js";import"./chunk-II53MLED.js";import"./chunk-RUL3GU37.js";import"./chunk-WTCPO44B.js";import"./chunk-SV7S5NYR.js";import"./chunk-OLRFWS6T.js";function V(e,o){e&1&&(n(0,"p",11),l(1,"Carregando receitas..."),a())}function $(e,o){if(e&1&&(n(0,"p",12),l(1),a()),e&2){let c=m();r(),f(c.error)}}function j(e,o){if(e&1){let c=P();n(0,"div",15),M("click",function(){let t=y(c).$implicit,i=m(2);return _(i.navigateToRecipeDetail(t.id))}),n(1,"div",16),g(2,"img",17),a(),n(3,"div",18)(4,"h5",19),l(5),a(),n(6,"p",20),l(7),S(8,"date"),a()()()}if(e&2){let c=o.$implicit;r(2),O("alt",c.recipeName),p("src",c.photoUrl||"https://placehold.co/311x229",C),r(3),f(c.recipeName),r(2),f(L(8,4,c.createdAt,"mediumDate"))}}function H(e,o){if(e&1&&(n(0,"div",13),u(1,j,9,7,"div",14),a()),e&2){let c=m();r(),p("ngForOf",c.recipes)}}function U(e,o){e&1&&(n(0,"p",21),l(1," Nenhuma receita encontrada para esta categoria. "),a())}var ce=(()=>{let o=class o{constructor(){this.categoryLabel=null,this.categoryId=null,this.recipes=[],this.isLoading=!0,this.error=null,this.receitaService=d(B),this.router=d(D),this.activatedRoute=d(z)}ngOnInit(){this.routeSubscription=this.activatedRoute.paramMap.pipe(v(s=>(this.categoryId=s.get("id"),this.categoryId?this.receitaService.getAllCategories().pipe(b(t=>{let i=t.find(A=>A.id===this.categoryId);this.categoryLabel=i?i.label:"Categoria Desconhecida",this.loadRecipesByCategory(this.categoryId)}),x(t=>(console.error("Erro ao buscar label da categoria:",t),this.categoryLabel="Erro ao Carregar",this.isLoading=!1,this.error="N\xE3o foi poss\xEDvel carregar a categoria.",h(null)))):(this.error="Nenhuma categoria especificada.",this.isLoading=!1,this.categoryLabel="Erro",h(null))))).subscribe()}ngOnDestroy(){this.routeSubscription&&this.routeSubscription.unsubscribe()}loadRecipesByCategory(s){this.isLoading=!0,this.error=null,this.recipes=[],this.receitaService.getRecipes({categories:[s]}).subscribe({next:t=>{this.recipes=t,this.isLoading=!1,console.log(`Receitas para categoria ${this.categoryLabel} carregadas:`,t)},error:t=>{console.error("Erro ao carregar receitas por categoria:",t),this.error="N\xE3o foi poss\xEDvel carregar as receitas para esta categoria.",this.isLoading=!1}})}navigateToRecipeDetail(s){this.router.navigate(["/receita-detalhe",s])}};o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=w({type:o,selectors:[["app-category-food"]],decls:13,vars:7,consts:[[1,"category-food-page-wrapper"],[1,"page-header-container-custom"],["backButtonRoute","/feed",3,"title","showBackButton"],[1,"page-content-scrollable"],[1,"container"],[1,"category-food-content"],[1,"section-title"],["class","loading-message",4,"ngIf"],["class","error-message",4,"ngIf"],["class","recipes-grid",4,"ngIf"],["class","no-recipes-message",4,"ngIf"],[1,"loading-message"],[1,"error-message"],[1,"recipes-grid"],["class","recipe-card",3,"click",4,"ngFor","ngForOf"],[1,"recipe-card",3,"click"],[1,"recipe-image-container"],[1,"recipe-image",3,"src","alt"],[1,"recipe-info"],[1,"recipe-title"],[1,"recipe-meta"],[1,"no-recipes-message"]],template:function(t,i){t&1&&(n(0,"div",0)(1,"div",1),g(2,"app-page-header",2),a(),n(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6),l(7),a(),u(8,V,2,0,"p",7)(9,$,2,1,"p",8)(10,H,2,1,"div",9)(11,U,2,0,"p",10),a()()(),g(12,"app-feed-menu"),a()),t&2&&(r(2),p("title",i.categoryLabel||"Categorias")("showBackButton",!0),r(5),I("Receitas de ",i.categoryLabel||"Categoria",""),r(),p("ngIf",i.isLoading),r(),p("ngIf",i.error),r(),p("ngIf",!i.isLoading&&i.recipes.length>0),r(),p("ngIf",!i.isLoading&&!i.error&&i.recipes.length===0))},dependencies:[F,k,E,R,N,T],styles:[".category-food-page-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;background-color:#11110f;color:#f0f0f0;overflow:hidden;scrollbar-width:none}.category-food-page-wrapper[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;background:transparent}.page-header-container-custom[_ngcontent-%COMP%]{width:85%;margin:20px auto 0;box-sizing:border-box}.page-content-scrollable[_ngcontent-%COMP%]{flex:1;overflow-y:auto;-webkit-overflow-scrolling:touch;padding:0;scrollbar-width:none}.page-content-scrollable[_ngcontent-%COMP%]::-webkit-scrollbar{width:0px;background:transparent}.container[_ngcontent-%COMP%]{max-width:85%;margin:30px auto;height:auto;display:flex;flex-direction:column;align-items:center;padding:0}.category-food-content[_ngcontent-%COMP%]{flex-grow:1;display:flex;flex-direction:column;align-items:flex-start;padding-bottom:20px;width:100%;box-sizing:border-box}.section-title[_ngcontent-%COMP%]{color:#f0f0f0;font-size:1.5em;margin-bottom:20px;align-self:flex-start}.loading-message[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%], .no-recipes-message[_ngcontent-%COMP%]{color:#f0f0f0;font-size:1.1em;padding:20px;border-radius:8px;background-color:#ffffff1a;margin-top:20px;width:100%;max-width:400px;box-shadow:0 2px 8px #0000004d;text-align:center;align-self:center}.error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);background-color:var(--ion-color-danger-tint);border:1px solid var(--ion-color-danger)}.no-recipes-message[_ngcontent-%COMP%]{color:var(--ion-color-primary-shade);background-color:var(--ion-color-primary-tint);border:1px solid var(--ion-color-primary)}.recipes-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:30px;width:100%;padding-bottom:20px;box-sizing:border-box}.recipe-card[_ngcontent-%COMP%]{width:100%;overflow:hidden;cursor:pointer;transition:transform .2s ease,box-shadow .2s ease;border-radius:14px}.recipe-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 25px #0009}.recipe-image-container[_ngcontent-%COMP%]{width:100%;height:25vh;overflow:hidden;border-radius:14px}.recipe-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.recipe-info[_ngcontent-%COMP%]{margin-top:15px;padding:0 5px;display:flex;flex-direction:column;gap:5px}.recipe-title[_ngcontent-%COMP%]{color:#f0f0f0;font-size:16px;font-family:Mulish,sans-serif;margin:0}.recipe-meta[_ngcontent-%COMP%]{color:#f0f0f0;font-size:12px;font-family:Mulish,sans-serif;opacity:.8}app-feed-menu[_ngcontent-%COMP%]{width:100%;align-self:center;margin-top:30px}@media (max-width: 768px){.page-header-container-custom[_ngcontent-%COMP%], .category-food-content[_ngcontent-%COMP%]{width:95%}}"]});let e=o;return e})();export{ce as CategoryFoodPage};
