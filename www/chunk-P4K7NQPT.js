import{A as Te,B as we,C as be,D as Z,E as Ie,G as Re,a as me,c as V,j as ke,l as Ee,o as K,q as Ae,r as q,v as ve,w as G,x,y as l}from"./chunk-BL7BDUKV.js";import{B as p,C as A,D as N,E as de,F as W,G as fe,L as I,La as pe,M,Ma as ge,Na as B,O as m,Q as he,b as E,e as ce,f as ue,i as U,j as H,x as le,z as O}from"./chunk-J7TXCJLH.js";import{e as b,g}from"./chunk-OLRFWS6T.js";var je="firebase",ze="11.8.1";l(je,ze,"app");function X(e){e===void 0&&(fe(X),e=p(I));let t=e.get(M);return n=>new E(r=>{let o=t.add(),i=!1;function a(){i||(o(),i=!0)}let u=n.subscribe({next:c=>{r.next(c),a()},complete:()=>{r.complete(),a()},error:c=>{r.error(c),a()}});return u.add(()=>{r.unsubscribe(),a()}),u})}var P=new pe("ANGULARFIRE2_VERSION");function Y(e,t,n){if(t){if(t.length===1)return t[0];let i=t.filter(a=>a.app===n);if(i.length===1)return i[0]}return n.container.getProvider(e).getImmediate({optional:!0})}var L=(e,t)=>{let n=t?[t]:x(),r=[];return n.forEach(o=>{o.container.getProvider(e).instances.forEach(a=>{r.includes(a)||r.push(a)})}),r},R=function(e){return e[e.SILENT=0]="SILENT",e[e.WARN=1]="WARN",e[e.VERBOSE=2]="VERBOSE",e}(R||{}),Pe=B()&&typeof Zone<"u"?R.WARN:R.SILENT;var F=class{zone;delegate;constructor(t,n=ue){this.zone=t,this.delegate=n}now(){return this.delegate.now()}schedule(t,n,r){let o=this.zone,i=function(a){o?o.runGuarded(()=>{t.apply(this,[a])}):t.apply(this,[a])};return this.delegate.schedule(i,n,r)}},y=(()=>{let t=class t{outsideAngular;insideAngular;constructor(){let r=p(m);this.outsideAngular=r.runOutsideAngular(()=>new F(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=r.run(()=>new F(typeof Zone>"u"?void 0:Zone.current,ce))}};b(t,"\u0275fac",function(o){return new(o||t)}),b(t,"\u0275prov",le({token:t,factory:t.\u0275fac,providedIn:"root"}));let e=t;return e})(),ye=!1;function Ue(e,t){!ye&&(Pe>R.SILENT||B())&&(ye=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),Pe>=t&&console.warn(`Firebase API called outside injection context: ${e.name}`)}function He(e){let t=p(m,{optional:!0});return t?t.runOutsideAngular(()=>e()):e()}function v(e){let t=p(m,{optional:!0});return t?t.run(()=>e()):e()}var Be=(e,t,n)=>(...r)=>(t&&setTimeout(t,0),W(n,()=>v(()=>e.apply(void 0,r)))),h=(e,t,n)=>(n||(n=t?R.WARN:R.VERBOSE),function(){let r,o=arguments,i,a,u;try{i=p(y),a=p(M),u=p(de)}catch{return Ue(e,n),e.apply(this,o)}for(let s=0;s<arguments.length;s++)typeof o[s]=="function"&&(t&&(r||(r=v(()=>a.add()))),o[s]=Be(o[s],r,u));let c=He(()=>e.apply(this,o));return t?c instanceof E?c.pipe(H(i.outsideAngular),U(i.insideAngular),X(u)):c instanceof Promise?v(()=>new Promise((s,w)=>{a.run(()=>c).then(C=>W(u,()=>v(()=>s(C))),C=>W(u,()=>v(()=>w(C))))})):typeof c=="function"&&r?function(){return setTimeout(r,0),c.apply(this,arguments)}:v(()=>c):c instanceof E?c.pipe(H(i.outsideAngular),U(i.insideAngular)):v(()=>c)});var T=class{constructor(t){return t}},_=class{constructor(){return x()}};function Ve(e){return e&&e.length===1?e[0]:new T(G())}var J=new O("angularfire2._apps"),Ke={provide:T,useFactory:Ve,deps:[[new A,J]]},qe={provide:_,deps:[[new A,J]]};function Ge(e){return(t,n)=>{let r=n.get(he);l("angularfire",P.full,"core"),l("angularfire",P.full,"app"),l("angular",ge.full,r.toString());let o=t.runOutsideAngular(()=>e(n));return new T(o)}}function hn(e,...t){return N([Ke,qe,{provide:J,useFactory:Ge(e),multi:!0,deps:[m,I,y,...t]}])}var pn=h(ve,!0);var Ze=new Map,Xe={activated:!1,tokenObservers:[]},Ye={initialized:!1,enabled:!1};function d(e){return Ze.get(e)||Object.assign({},Xe)}function De(){return Ye}var Je="https://content-firebaseappcheck.googleapis.com/v1";var Qe="exchangeDebugToken",Ce={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},yn=24*60*60*1e3;var te=class{constructor(t,n,r,o,i){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=o,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=o,o>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){return g(this,null,function*(){this.stop();try{this.pending=new V,this.pending.promise.catch(n=>{}),yield et(this.getNextRun(t)),this.pending.resolve(),yield this.pending.promise,this.pending=new V,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function et(e){return new Promise(t=>{setTimeout(t,e)})}var tt={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.","initial-throttle":"{$httpStatus} error. Attempts allowed again after {$time}",throttled:"Requests throttled due to previous {$httpStatus} error. Attempts allowed again after {$time}"},k=new Ee("appCheck","AppCheck",tt);function $e(e){if(!d(e).activated)throw k.create("use-before-activation",{appName:e.name})}function Oe(r,o){return g(this,arguments,function*({url:e,body:t},n){let i={"Content-Type":"application/json"},a=n.getImmediate({optional:!0});if(a){let f=yield a.getHeartbeatsHeader();f&&(i["X-Firebase-Client"]=f)}let u={method:"POST",body:JSON.stringify(t),headers:i},c;try{c=yield fetch(e,u)}catch(f){throw k.create("fetch-network-error",{originalErrorMessage:f==null?void 0:f.message})}if(c.status!==200)throw k.create("fetch-status-error",{httpStatus:c.status});let s;try{s=yield c.json()}catch(f){throw k.create("fetch-parse-error",{originalErrorMessage:f==null?void 0:f.message})}let w=s.ttl.match(/^([\d.]+)(s)$/);if(!w||!w[2]||isNaN(Number(w[1])))throw k.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${s.ttl}`});let C=Number(w[1])*1e3,ae=Date.now();return{token:s.token,expireTimeMillis:ae+C,issuedAtTimeMillis:ae}})}function Ne(e,t){let{projectId:n,appId:r,apiKey:o}=e.options;return{url:`${Je}/projects/${n}/apps/${r}:${Qe}?key=${o}`,body:{debug_token:t}}}var nt="firebase-app-check-database",rt=1,ne="firebase-app-check-store";var j=null;function ot(){return j||(j=new Promise((e,t)=>{try{let n=indexedDB.open(nt,rt);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var o;t(k.create("storage-open",{originalErrorMessage:(o=r.target.error)===null||o===void 0?void 0:o.message}))},n.onupgradeneeded=r=>{let o=r.target.result;switch(r.oldVersion){case 0:o.createObjectStore(ne,{keyPath:"compositeKey"})}}}catch(n){t(k.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),j)}function it(e,t){return st(at(e),t)}function st(e,t){return g(this,null,function*(){let r=(yield ot()).transaction(ne,"readwrite"),i=r.objectStore(ne).put({compositeKey:e,value:t});return new Promise((a,u)=>{i.onsuccess=c=>{a()},r.onerror=c=>{var s;u(k.create("storage-set",{originalErrorMessage:(s=c.target.error)===null||s===void 0?void 0:s.message}))}})})}function at(e){return`${e.options.appId}-${e.name}`}var S=new Ae("@firebase/app-check");function Q(e,t){return ke()?it(e,t).catch(n=>{S.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function We(){return De().enabled}function Me(){return g(this,null,function*(){let e=De();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var ct={error:"UNKNOWN_ERROR"};function ut(e){return me.encodeString(JSON.stringify(e),!1)}function re(e,t=!1,n=!1){return g(this,null,function*(){let r=e.app;$e(r);let o=d(r),i=o.token,a;if(i&&!D(i)&&(o.token=void 0,i=void 0),!i){let s=yield o.cachedTokenPromise;s&&(D(s)?i=s:yield Q(r,void 0))}if(!t&&i&&D(i))return{token:i.token};let u=!1;if(We())try{o.exchangeTokenPromise||(o.exchangeTokenPromise=Oe(Ne(r,yield Me()),e.heartbeatServiceProvider).finally(()=>{o.exchangeTokenPromise=void 0}),u=!0);let s=yield o.exchangeTokenPromise;return yield Q(r,s),o.token=s,{token:s.token}}catch(s){return s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?S.warn(s.message):n&&S.error(s),ee(s)}try{o.exchangeTokenPromise||(o.exchangeTokenPromise=o.provider.getToken().finally(()=>{o.exchangeTokenPromise=void 0}),u=!0),i=yield d(r).exchangeTokenPromise}catch(s){s.code==="appCheck/throttled"||s.code==="appCheck/initial-throttle"?S.warn(s.message):n&&S.error(s),a=s}let c;return i?a?D(i)?c={token:i.token,internalError:a}:c=ee(a):(c={token:i.token},o.token=i,yield Q(r,i)):c=ee(a),u&&ht(r,c),c})}function lt(e){return g(this,null,function*(){let t=e.app;$e(t);let{provider:n}=d(t);if(We()){let r=yield Me(),{token:o}=yield Oe(Ne(t,r),e.heartbeatServiceProvider);return{token:o}}else{let{token:r}=yield n.getToken();return{token:r}}})}function dt(e,t,n,r){let{app:o}=e,i=d(o),a={next:n,error:r,type:t};if(i.tokenObservers=[...i.tokenObservers,a],i.token&&D(i.token)){let u=i.token;Promise.resolve().then(()=>{n({token:u.token}),_e(e)}).catch(()=>{})}i.cachedTokenPromise.then(()=>_e(e))}function xe(e,t){let n=d(e),r=n.tokenObservers.filter(o=>o.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _e(e){let{app:t}=e,n=d(t),r=n.tokenRefresher;r||(r=ft(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ft(e){let{app:t}=e;return new te(()=>g(null,null,function*(){let n=d(t),r;if(n.token?r=yield re(e,!0):r=yield re(e),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=d(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,o=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,o),Math.max(0,r-Date.now())}else return 0},Ce.RETRIAL_MIN_WAIT,Ce.RETRIAL_MAX_WAIT)}function ht(e,t){let n=d(e).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function D(e){return e.expireTimeMillis-Date.now()>0}function ee(e){return{token:ut(ct),error:e}}var oe=class{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:t}=d(this.app);for(let n of t)xe(this.app,n.next);return Promise.resolve()}};function pt(e,t){return new oe(e,t)}function gt(e){return{getToken:t=>re(e,t),getLimitedUseToken:()=>lt(e),addTokenListener:t=>dt(e,"INTERNAL",t),removeTokenListener:t=>xe(e.app,t)}}var mt="@firebase/app-check",kt="0.10.0";var Et="app-check",Se="app-check-internal";function At(){q(new K(Et,e=>{let t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return pt(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(Se).initialize()})),q(new K(Se,e=>{let t=e.getProvider("app-check").getImmediate();return gt(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),l(mt,kt)}At();var vt="app-check";var z=class{constructor(){return L(vt)}};var Tt=["localhost","0.0.0.0","127.0.0.1"],jn=typeof window<"u"&&Tt.includes(window.location.hostname);function Fe(e){return new E(function(t){var n=Z(e,t.next.bind(t),t.error.bind(t),t.complete.bind(t));return{unsubscribe:n}})}var Le="auth",$=class{constructor(t){return t}},ie=class{constructor(){return L(Le)}};var se=new O("angularfire2.auth-instances");function It(e,t){let n=Y(Le,e,t);return n&&new $(n)}function Rt(e){return(t,n)=>{let r=t.runOutsideAngular(()=>e(n));return new $(r)}}var Pt={provide:ie,deps:[[new A,se]]},yt={provide:$,useFactory:It,deps:[[new A,se],T]};function Xr(e,...t){return l("angularfire",P.full,"auth"),N([yt,Pt,{provide:se,useFactory:Rt(e),multi:!0,deps:[m,I,y,_,[new A,z],...t]}])}var Yr=h(Fe,!0);var Jr=h(Te,!0,2);var Qr=h(Re,!0);var eo=h(we,!0,2);var to=h(Ie,!0,2);var no=h(be,!0,2);export{P as a,Y as b,L as c,y as d,h as e,T as f,_ as g,hn as h,pn as i,z as j,$ as k,ie as l,Xr as m,Yr as n,Jr as o,Qr as p,eo as q,to as r,no as s};
